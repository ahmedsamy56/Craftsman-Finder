
@model HomeOwnerProfileViewModel

@section Style {
    <style>
        body {
            background-color: #f8f9fa;
        }

        .profile-header {
            background-color: #007bff;
            color: white;
            padding: 30px;
            border-radius: 10px;
        }

        .profile-header img {
            border: 5px solid white;
            margin-bottom: 15px;
        }

        .card:hover {
            transform: scale(1.01);
            transition: transform 0.2s ease-in-out;
        }
    </style>
}


<!-- Profile Header -->
<div class="container mt-5">
    <div class="profile-header text-center">
        <img src="@Model.ProfileImagePath" alt="Profile Picture" class="rounded-circle" style="width: 150px; height: 150px;">
        <h2 id="profileName" class="mt-3">@Model.Name</h2>
        <p class="mb-1"><strong>Email:</strong> <span id="profileEmail">@Model.Email</span></p>
        <p class="mb-1"><strong>Phone:</strong> <span id="profilePhone">@Model.PhoneNumebr</span></p>
        <p><strong>Address:</strong> <span id="profileAddress">@Model.Address</span></p>
        @if (Model.Id == @User.FindFirstValue(ClaimTypes.NameIdentifier))
        {
            <a id="manage" class="nav-link text-light" asp-area="Identity" asp-page="/Account/Manage/Index" title="Manage"> <button class="btn btn-light btn-sm mt-3" id="editProfileButton">Edit Profile</button> </a>
        }
    </div>
</div>

<!-- Tab Section -->
<div class="container mt-5">
    <ul class="nav nav-tabs" id="profileTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="Jobs-tab" data-bs-toggle="tab" data-bs-target="#Jobs" type="button" role="tab" aria-controls="Jobs" aria-selected="true">Jobs</button>
        </li>
    </ul>
    <div class="tab-content mt-5" id="profileTabContent">
        <!-- Jobs Section -->
        <div class="tab-pane fade show active" id="Jobs" role="tabpanel" aria-labelledby="Jobs-tab">
            <div class="row g-4" id="jobCards">
                @if (Model.JobRequests != null && Model.JobRequests.Any())
                {
                    foreach (var job in Model.JobRequests)
                    {
                        <div class="col-md-6 col-lg-4">
                            <div class="card shadow-sm h-100">
                                <div class="card-body">
                                    <h5 class="card-title">@job.Title</h5>
                                    <p class="card-text">
                                        @job.Description
                                    </p>
                                    <p class="card-text"><small class="text-muted">Created at: @job.Created.ToString("MMMM yyyy")</small></p>
                                    <div class="text-end mt-4">
                                        <a href="@Url.Action("JobRequestDetails", "JobRequest", new { id = job.Id })" class="btn btn-success">View</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                }
                else
                {
                    <p class="text-center">No job requests available.</p>
                }
            </div>
        </div>
    </div>
</div>
